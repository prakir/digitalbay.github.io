/// <reference types="node" />
import archiver from "archiver";
import { BoundPorts } from "../bound-ports";
import { PortWithOptionalBinding } from "../port";
import { PullPolicy } from "../pull-policy";
import { StartedTestContainer, TestContainer } from "../test-container";
import { WaitStrategy } from "../wait-strategy";
import { Readable } from "stream";
import { BindMode, BindMount, BuildContext, Command, ContainerName, Dir, Env, EnvKey, EnvValue, ExtraHost, HealthCheck, NetworkMode, TmpFs, Labels, Ulimits } from "../docker/types";
import { InspectResult } from "../docker/functions/container/inspect-container";
import { GenericContainerBuilder } from "./generic-container-builder";
export declare class GenericContainer implements TestContainer {
    readonly image: string;
    static fromDockerfile(context: BuildContext, dockerfileName?: string): GenericContainerBuilder;
    private readonly imageName;
    protected env: Env;
    protected networkMode?: NetworkMode;
    protected networkAliases: string[];
    protected ports: PortWithOptionalBinding[];
    protected cmd: Command[];
    protected entrypoint?: string[];
    protected bindMounts: BindMount[];
    protected name?: ContainerName;
    protected labels: Labels;
    protected tmpFs: TmpFs;
    protected healthCheck?: HealthCheck;
    protected waitStrategy?: WaitStrategy;
    protected startupTimeout: number;
    protected useDefaultLogDriver: boolean;
    protected privilegedMode: boolean;
    protected ipcMode?: string;
    protected ulimits?: Ulimits;
    protected addedCapabilities?: string[];
    protected droppedCapabilities?: string[];
    protected user?: string;
    protected pullPolicy: PullPolicy;
    protected reuse: boolean;
    protected tarToCopy?: archiver.Archiver;
    private extraHosts;
    constructor(image: string);
    protected preStart?(): Promise<void>;
    start(): Promise<StartedTestContainer>;
    private reuseContainer;
    private startContainer;
    protected postStart?(container: StartedTestContainer, inspectResult: InspectResult, boundPorts: BoundPorts): Promise<void>;
    protected get hasExposedPorts(): boolean;
    withCmd(cmd: Command[]): this;
    withEntrypoint(entrypoint: string[]): this;
    withName(name: ContainerName): this;
    withLabels(labels: Labels): this;
    withEnv(key: EnvKey, value: EnvValue): this;
    withTmpFs(tmpFs: TmpFs): this;
    withUlimits(ulimits: Ulimits): this;
    withAddedCapabilities(...capabilities: string[]): this;
    withDroppedCapabilities(...capabilities: string[]): this;
    withNetworkMode(networkMode: NetworkMode): this;
    withNetworkAliases(...networkAliases: string[]): this;
    withExtraHosts(...extraHosts: ExtraHost[]): this;
    withExposedPorts(...ports: PortWithOptionalBinding[]): this;
    protected addExposedPorts(...ports: PortWithOptionalBinding[]): this;
    withBindMount(source: Dir, target: Dir, bindMode?: BindMode): this;
    withHealthCheck(healthCheck: HealthCheck): this;
    withStartupTimeout(startupTimeout: number): this;
    withWaitStrategy(waitStrategy: WaitStrategy): this;
    withDefaultLogDriver(): this;
    withPrivilegedMode(): this;
    withUser(user: string): this;
    withReuse(): this;
    withPullPolicy(pullPolicy: PullPolicy): this;
    withIpcMode(ipcMode: string): this;
    withCopyFileToContainer(sourcePath: string, containerPath: string): this;
    withCopyContentToContainer(content: string | Buffer | Readable, containerPath: string): this;
    protected getTarToCopy(): archiver.Archiver;
    private waitForContainer;
    private getWaitStrategy;
}
