import { z } from "zod";
import { Observable } from "rxjs";
import { IframeMessagePortMap, MessagePortIframeEvent, MessagePortWorkAdventureEvent } from "../Events/MessagePortEvents";
type MessagePortMessageEvent<K extends keyof IframeMessagePortMap> = MessageEvent<z.infer<MessagePortWorkAdventureEvent<K>["data"]>>;
/**
 * A wrapper around a MessagePort that ensures the messages sent and received conform to a specific type.
 * This class is used on the iframe side to communicate with the main application.
 */
export declare class CheckedIframeMessagePort<K extends keyof IframeMessagePortMap> {
    private type;
    private readonly port;
    private readonly _messages;
    readonly messages: Observable<MessagePortMessageEvent<K>>;
    constructor(port: MessagePort, type: K);
    postMessage(message: MessagePortIframeEvent<K>["data"]): void;
    close(): void;
}
export {};
